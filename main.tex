\documentclass[a4paper]{article}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage[serbian]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{tabularx}
\usepackage{float}

\title{Informacioni sistem bioskopa: Apsolutni bioskop\\ 
\small{Dokumentacija u okviru projekta iz predmeta\\ Informacioni sistemi\\ Matematički fakultet}}
\author{Marko Paunović, Bogdan Stojadinović , Anđela Jovanović \\ mi251039@alas.matf.bg.ac.rs \\ mi251028@alas.matf.bg.ac.rs \\ mi251035@alas.matf.bg.ac.rs\\}
\date{Januar 2026.}

\begin{document}

\maketitle

\tableofcontents

\newpage

\section{Analiza sistema}

\subsection{O čemu se radi u ovom projektu?}
Ovaj rad je nastao kao deo projektnog zadatka na predmetu ``Informacioni sistemi'' na master studijama Matematičkog fakulteta. Glavna ideja bila je da teoriju o planiranju sistema primenimo u praksi i pokažemo kako se jedan poslovni proces može detaljno isplanirati.

Napravili smo plan za informacioni sistem koji pomaže firmi da lakše prodaje svoje usluge i upravlja zaposlenima. Najviše smo se fokusirali na to kako da automatizujemo svakodnevne poslove (poput prodaje na blagajni) i kako da osiguramo da svako u sistemu vidi samo ono što mu je dozvoljeno. Da bismo sistem prikazali sa svih strana, koristili smo različite dijagrame: od opštih Use Case dijagrama, preko detaljnih dijagrama aktivnosti i sekvenci, pa sve do BPMN dijagrama koji pokazuju saradnju između ljudi i softvera.

\subsection{Ko sve koristi sistem?}
U našem sistemu postoje četiri glavne grupe korisnika, a svaka od njih ima svoju specifičnu ulogu:
\begin{enumerate}
    \item \textbf{Korisnik} (običan kupac ili klijent)
    \item \textbf{Blagajnik} (osoba koja radi na prodajnom mestu)
    \item \textbf{Menadžer} (osoba zadužena za tim i organizaciju)
    \item \textbf{Sistem administrator} (tehnička podrška i kontrola sistema)
\end{enumerate}

\subsection{Šta korisnici zapravo mogu da rade?}
Evo kratkog pregleda onoga što je svakoj grupi korisnika omogućeno u sistemu:
\begin{enumerate}
\item \textbf{Korisnik} \\
On je tu da bi koristio usluge. Prvo se registruje i prijavljuje, a zatim može da pregleda ponudu, kupuje ili rezerviše ono što mu treba. Sistem brine o tome da su njegovi podaci sigurni i da niko drugi ne može da vidi njegovu istoriju kupovine ili lične informacije.

\item \textbf{Blagajnik} \\
Njegov posao je rad sa ljudima i kucanje računa. On proverava da li je neka usluga dostupna, vrši naplatu i izdaje potvrde korisnicima. Blagajnik vidi sve što je vezano za prodaju, ali nema pristup podacima o platama ili podešavanjima samog sistema.

\item \textbf{Menadžer} \\
On vodi računa o tome da sve funkcioniše kako treba. On ne kuca u sistem podatke o prodaji, već prati izveštaje. Kada se pojavi potreba za novim radnikom, on je taj koji šalje zvaničan zahtev administratoru. Njegov glavni zadatak u ovom modelu je da odobri i pokrene proces zapošljavanja.

\item \textbf{Sistem administrator} \\
On je najbitniji za sistem u tehničkom pogledu. On kreira naloge za nove zaposlene tek kada dobije zahtev od menadžera. Takođe, on brine o bezbednosti, to jest ako neko zaboravi lozinku ili mu nalog bude blokiran zbog previše pogrešnih pokušaja, administrator je tu da reši problem i vrati sistem u normalu.
\end{enumerate}

\vspace{5pt}

\newpage
\subsection{Dijagram slučajeva upotrebe}
Ovaj dijagram prikazuje sve grupe korisnika i funkcije koje su im dostupne unutar sistema. On služi da se na početku jasno definišu granice sistema i šta svaka uloga može da uradi.
\begin{figure}[h]
    \centering
    \includegraphics[width=1\textwidth]{dijagram_slucajeva_upotrebe.jpg}
    \caption{Dijagram slučajeva upotrebe}
    \label{fig:dijagram_slucajeva_upotrebe}
\end{figure}

\newpage
\section{Dijagrami toka podataka}
Dijagrami toka podataka (DFD) opisuju kako se informacije kreću kroz sistem, od samog unosa do njihovog skladištenja u bazi.

\subsection{DFD dijagram konteksta}
Dijagram konteksta prikazuje sistem kao jednu celinu u odnosu na okruženje. Na njemu se vidi samo razmena podataka sa korisnicima i bazom podataka, bez detalja o samoj obradi unutar softvera.

\begin{figure}[h]
    \centering
    \includegraphics[width=1\textwidth]{dfd_dijagram_konteksta.jpg}
    \caption{DFD dijagram konteksta}
    \label{fig:dfd_dijagram_konteksta}
\end{figure}

\newpage
\subsection{DFD dijagram nivoa 0}
\begin{figure}[h]
    \centering
    \includegraphics[width=0.935\textwidth]{dfd_dijagram_nivoa_0.jpg}
    \caption{DFD dijagram nivoa 0}
    \label{fig:dfd_dijagram_nivoa_0}
\end{figure}


\newpage
\section{Slučajevi upotrebe}
\input{Online kupovina i rezervacija/online_kupovina_i_registracija}
\newpage
\input{Kupovina na blagajni/kupovina_na_blagajni}
\newpage
\input{Registracija/registracija}
\newpage
\input{Autorizacija/autorizacija}
\newpage
\input{Upravljanje Podacima/upravljanje_podacima}
\newpage
\input{Dodavanje Novih Zaposlenih/dodavanje_novih_zaposlenih}
\newpage
\input{Izmena Repertoara/izmena_repertoara}


\newpage
\section{Detaljna specifikacija modela baze podataka}

Na osnovu slučaja upotrebe osmišljena je sledeća struktura baze podataka definišući klase:
\begin{itemize}
    \item Korisnik
    \item Karta
    \item Projekcija
    \item Film
    \item Bioskop
    \item Sala
    \item Sedište
    \item Zaposlen (Sistem Administrator, Menadžer, Blagajnik)
    \item Slobodna Sedišta
\end{itemize}

\begin{figure}[h!]
    \centering
    \makebox[\textwidth][c]{
        \includegraphics[width=1.2\textwidth]{dijagram_klasa.jpg}
        }
        \caption{Dijagram klasa}
        \label{fig:dijagram_klasa}
    \end{figure}
    
\newpage
U nastavku je dat tabelarni prikaz svih entiteta sa njihovim atributima, tipovima podataka i kratkim opisom njihove uloge u sistemu.

% --- TABELA KORISNIK ---
\subsection{Tabela: Korisnik}
Klasa Korisnik predstavlja online korisnika koji kupuje i rezerviše bioskopske karte.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
email (PK) & varchar(100) & Primarni ključ, jedinstvena adresa korisnika. \\ \hline
lozinka & varchar(255) & Hash vrednost korisničke lozinke. \\ \hline
ime & varchar(50) & Ime korisnika. \\ \hline
prezime & varchar(50) & Prezime korisnika. \\ \hline
brojTelefona & varchar(20) & Kontakt telefon korisnika. \\ \hline
bonusPoeni & int & Broj sakupljenih bodova lojalnosti. \\ \hline
\end{tabularx}

% --- TABELA KARTA ---
\subsection{Tabela: Karta}
Klasa Karta sadrži podatke o karti koju je korisnik kupio. Jedan Korisnik može da kupi više karata, dok jedna karta može biti kupljena od strane jednog Korisnika.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
barkod (PK) & varchar(100) & Jedinstveni identifikator karte. \\ \hline
idKorisnika (FK) & int & Referenca na korisnika koji je kupio kartu. \\ \hline
idSedista (FK) & int & Referenca na rezervisano sedište. \\ \hline
idProjekcija (FK) & int & Referenca na specifičan termin projekcije. \\ \hline
validna & boolean & Status važnosti karte (da li je iskorišćena). \\ \hline
rezervacija & boolean & Da li je karta samo rezervisana ili i plaćena. \\ \hline
cena & int & Konačna cena karte sa uračunatim popustima. \\ \hline
\end{tabularx}

% --- TABELA PROJEKCIJA ---
\subsection{Tabela: Projekcija}
Glavna klasa sistema. Sadrži informacije o filmu koji se pušta u određenoj sali u određeno vreme kao i cenu karte. Povezana je sa tabelama: Film, Sala, Slobodna Sedišta, Bioskop
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
id (PK) & varchar(50) & Jedinstveni identifikator projekcije. \\ \hline
idBioskopa (FK) & int & Referenca na bioskop u kojem se prikazuje. \\ \hline
idSale (FK) & int & Referenca na salu u kojoj se prikazuje. \\ \hline
idFilma (FK) & int & Referenca na film koji se emituje. \\ \hline
cena & float & Osnovna cena karte za ovaj termin. \\ \hline
vreme & dateTime & Tačan datum i vreme početka. \\ \hline
\end{tabularx}



% --- TABELA FILM ---
\subsection{Tabela: Film}
Klasa Film predstavlja film koji se može puštati u bioskopima.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
id (PK) & int & Identifikator filma. \\ \hline
naziv & varchar(100) & Naslov filma. \\ \hline
poster & varchar(255) & Putanja do slike postera ili ID slike. \\ \hline
trajanje & time & Dužina trajanja filma u minutima. \\ \hline
žanr & varchar(50) & Kategorija filma (npr. Akcija, Drama). \\ \hline
\end{tabularx}

% --- TABELA BIOSKOP ---
\subsection{Tabela: Bioskop}
Klasa Bioskop je jedna od glavnih klasa sistema. Referenca na nju se nalazi u klasama: Projekcija, Sala i Zaposleni.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
id (PK) & int & Jedinstveni identifikator objekta bioskopa. \\ \hline
ime & varchar(100) & Naziv bioskopa. \\ \hline
adresa & varchar(200) & Fizička adresa na kojoj se bioskop nalazi. \\ \hline
telefon & varchar(20) & Kontakt telefon objekta. \\ \hline
\end{tabularx}

% --- TABELA SALA ---
\subsection{Tabela: Sala}
Klasa Sala predstavlja salu za projektovanje filmova u jednom bioskopu.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
id (PK) & int & Jedinstveni identifikator sale. \\ \hline
idBioskopa (FK) & int & Referenca na bioskop kojem sala pripada. \\ \hline
nazivSale & varchar(50) & Naziv ili broj sale (npr. "Sala 1", "IMAX"). \\ \hline
sediste & varchar(255) & Opisni podatak o rasporedu ili kapacitetu. \\ \hline
\end{tabularx}

% --- TABELA SEDIŠTE ---
\subsection{Tabela: Sedište}
Klasa Sedište predstavlja jedno sedište u jednoj sali. Svaka sala ima više sedišta.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
idSedista (PK) & int & Jedinstveni identifikator sedišta. \\ \hline
idSale (FK) & int & Referenca na salu kojoj sedište pripada. \\ \hline
red & int & Broj reda u sali. \\ \hline
broj & int & Broj sedišta u redu. \\ \hline
tip & TipSedišta & Referenca na enumeraciju TipSedišta. \\ \hline
\end{tabularx}

% --- TABELA ZAPOSLEN ---
\subsection{Tabela: Zaposlen (Zajednička za Admin/Menadžer/Blagajnik)}
Klasa Zaposleni predstavlja zaposlenog koji koristi sistem. Konkretizacijom ove klase izvodimo klase Administrator, Menadžer i Blagajnik.

Administrator:
Klasa Administrator predstavlja Sistem Administratora koji upravlja svim podacima u bazi.

Menadžer:
Klasa Menadžer predstavlja upravnika čiji je domen uprave jedan Bioskop i sve što je sa njim povezano.

Blagajnik:
Klasa Blagajnik predstavlja zaposlenog koji prodaje karte, grickalice i pića na blagajni bioskopa korisnicima koji nisu u sistemu.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
id (PK) & int & Identifikator zaposlenog. \\ \hline
idBioskopa (FK) & int & Bioskop u kojem je zaposlen. \\ \hline
ime & varchar(50) & Ime zaposlenog. \\ \hline
prezime & varchar(50) & Prezime zaposlenog. \\ \hline
jmbg & varchar(13) & Jedinstveni matični broj građanina. \\ \hline
telefon & varchar(13) & Broj telefona. \\ \hline
email & varchar(100) & Poslovna email adresa. \\ \hline
datumZaposlenja & date & Datum zaposlenja. \\ \hline
adresa & varchar(100) & Adresa zaposlenog. \\ \hline
\end{tabularx}

% --- TABELA SLOBODNA SEDIŠTA ---
\subsection{Tabela: SlobodnaSedišta (Tabela stanja)}
Klasa Stanje Sedišta predstavlja stanje svih sedišta jedne projekcije. Vezana je za klasu Sala preko idSale. Kada korisnik kupi ili rezerviše sedište za određenu projekciju njegovo stanje se menja.
\vspace{5pt}

\begin{tabularx}{\textwidth}{|l|l|X|}
\hline
\textbf{Atribut} & \textbf{Tip} & \textbf{Opis} \\ \hline
idProjekcije (FK) & int & Projekcija za koju se proverava zauzeće. \\ \hline
idSedista (FK) & int & Sedište čije se stanje prati. \\ \hline
stanje & StanjeSedišta & Trenutni status (Slobodno, Zauzeto, itd.). \\ \hline
\end{tabularx}

\subsection{Definicije Enumeracija}
\begin{itemize}
    \item \textbf{TipSedišta}: \{STANDARDNO, LJUBAVNO, KOŽNO, VIP\}
    \item \textbf{StanjeSedišta}: \{SLOBODNO, IZABRANO, REZERVISANO, ZAUZETO\}
\end{itemize}


\section{Arhitektura sistema}

Prilikom razmatranja arhitekture informacionog sistema cilj je bio napraviti jednostavnu, široko dostupnu, stabilnu i bezbednu aplikaciju. Izborom veb aplikacije obezbeđena je široka dostupnost jer je za njeno korišćenje potrebno samo da korisnik ima internet vezu na svom računaru ili mobilnom uređaju. Pažljivo vođenje računa prilikom izrade korisničkog interfejsa postiže se jednostavnost, dok se stabilnost i pre svega bezbednost ostvaruju izborom troslojne arhitekture gde se srednji (logički) sloj deli na klijentski i serverski deo.


\begin{itemize}
    \item \textbf{Prezentacioni sloj} (Presentation Layer) 
    
    \begin{itemize}
        \item Predstavlja najviši sloj aplikacije i ima ulogu da korisniku prikaže vizuelnu reprezentaciju sadržaja na osnovu podataka koje dobija od nižeg sloja. Sastoji se od skupa HTML stranica koje su izgrađene uz pomoć HTML-a, CSS-a i JavaScript-a, a njihov detaljan izgled će biti prikazan u narednom poglavlju.
    \end{itemize}

    \item \textbf{Logički sloj} (Business Logic Layer)
    \begin{itemize}
        \item Predstavlja logički sloj servera i ima ulogu u prijemu zahteva koje klijent šalje kao i odgovaranju na iste. U okviru ovog sloja nalazi se i biznis logika celog sistema.
        Realizacija implementacije sadržaće ASP.NET Core kontrolere koji će u odnosu na zahtev dobijen od strane klijentske strane obrađivati dobijene podatke i stupati u kontakt sa slojem podataka kada to bude potrebno. Za implementaciju koristićemo Controller-Service-Repository arhitekturni obrazac.
    \end{itemize}
    \item \textbf{Sloj podataka} (Data Access Layer)
    \begin{itemize}
        \item Tabele koje će se nalaziti u ovoj bazi podataka opisane su dijagramom klasa i detaljnom specifikacijom u prethodnom poglavlju. Podaci će biti skladišteni u memoriji na serverskom računaru, i to u relacionoj bazi podataka (PostgreSQL).
    \end{itemize}
\end{itemize}


Na slici \ref{fig:dijagram_komponenti} nalazi se predlog arhitekture sistema prikazan kroz dijagram komponenti, dok slika \ref{fig:dijagram_isporucivanja} prikazuje dijagram isporučivanja koji detaljno opisuje kako su komponente raspoređene na različitim čvorovima sistema.

\begin{figure}[h]
    \centering
    \includegraphics[width=1\textwidth]{dijagram_komponenti.jpg}
    \caption{Dijagram komponenti}
    \label{fig:dijagram_komponenti}
\end{figure}

\newpage
\begin{figure}[h]
    \centering
    \includegraphics[width=1\textwidth]{dijagram_isporucivanja.jpg}
    \caption{Dijagram isporučivanja}
    \label{fig:dijagram_isporucivanja}
\end{figure}


\end{document}
